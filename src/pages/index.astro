---
import "../styles.css";
import {getLangFromUrl} from "../i18n/utils";
import {index} from "../i18n/translations";
let lang: string = getLangFromUrl(Astro.url);

// Get the translation for the current language
export function getStaticPaths() {
    return index.map(t => ({params: t.params}));
    }

---
<script is:inline>
    const language = navigator.language;
    let savedLang = localStorage.getItem('lang');
    if (savedLang && savedLang !== "en") {
        document.querySelector('#metaRefresh').setAttribute('content', `0;url=/${savedLang}/`);
    } else {
        if (language === 'sk') {
            localStorage.setItem('lang', language);
            document.querySelector('#metaRefresh').setAttribute('content', `0;url=/sk/`);
        } else if (language === 'uk' || language === 'ua') {
            localStorage.setItem('lang', language);
            document.querySelector('#metaRefresh').setAttribute('content', `0;url=/ua/`);
        } else {
        }
    }
</script>
<!-- Katex -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.css" integrity="sha384-NFTC4wvyQKLwuJ8Ez9AvPNBv8zcC2XaQzXSMvtORKw28BdJbB2QE8Ka+OyrIHcQJ" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.js" integrity="sha384-z9arB7KJHppq8kK9AESncXcQd/KXIMMPiCrAdxfFpp+5QU438lgBE7UFGbk+gljP" crossorigin="anonymous"></script>
